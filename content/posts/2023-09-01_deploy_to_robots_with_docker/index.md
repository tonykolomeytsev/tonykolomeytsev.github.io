+++
title = "Опыт Eurobot: Деплой Docker образов на роботов в локальной сети"
date = "2023-09-01"
draft = true

[taxonomies]
tags = ["docker", "ROS", "robotics", "eurobot", "skoltech"]
+++

Продолжая серию постов про Eurobot, рассказываю про следующую деталь нашей инфраструктуры — доставку Docker образов до роботов в обход интернета и удаленных Docker Registry.

[В предыдущем посте](/posts/eurobot-experience-docker-with-ros/) я рассказал о том, как мы собирали Docker образы и как контейнеры запускались на роботах. В этот раз расскажу, как эти самые образы по Wi-Fi доставлялись с машин разработчиков на роботов.

# Самое простое решение
<!-- Тут рассказать про первое решение до которого я додумался, экспорт docker образа в tar архив и его отправка -->

# Самое сложное решение
<!-- Тут рассказать сразу про суть текущего решения -->

## Шаг 0: Предварительная настройка
### Настраиваем SSH-ключи
<!-- Про SSH ключи и почему они нужны -->

### Docker BuildKit и Insecure Registry
<!-- Про то как настроить BuildKit и разрешить пушить в localhost:5000 -->

## Шаг 1: Поднимаем Docker Registry на роботе
<!-- Объяснить, почему insecure registry на самом деле secure благодаря SSH -->

## Шаг 2: Поднимаем SSH туннель между роботом и вашим компьютером

## Шаг 3: Пушим образ в Docker Registry на роботе

## Шаг 4 (опциональный): Переименовываем отправленный на робота образ
<!-- Объяснить, зачем это может быть нужно -->

# Мы это автоматизировали

# Мои мысли на тему и итоги
